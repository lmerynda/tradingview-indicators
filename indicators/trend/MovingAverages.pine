// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// Â© TradingView Indicators

//@version=5
indicator("Moving Averages", shorttitle="MA", overlay=true)

// Inputs
maType = input.string("SMA", title="MA Type", options=["SMA", "EMA", "WMA", "VWMA"])
length1 = input.int(20, minval=1, title="Fast MA Length")
length2 = input.int(50, minval=1, title="Medium MA Length")
length3 = input.int(200, minval=1, title="Slow MA Length")
src = input.source(close, title="Source")
showMA1 = input.bool(true, title="Show Fast MA")
showMA2 = input.bool(true, title="Show Medium MA")
showMA3 = input.bool(true, title="Show Slow MA")

// Function to get MA value based on type
getMA(source, length, matype) =>
    switch matype
        "SMA" => ta.sma(source, length)
        "EMA" => ta.ema(source, length)
        "WMA" => ta.wma(source, length)
        "VWMA" => ta.vwma(source, length)
        => ta.sma(source, length)

// Calculate MAs
ma1 = getMA(src, length1, maType)
ma2 = getMA(src, length2, maType)
ma3 = getMA(src, length3, maType)

// Plot
plot(showMA1 ? ma1 : na, title="Fast MA", color=color.blue, linewidth=2)
plot(showMA2 ? ma2 : na, title="Medium MA", color=color.orange, linewidth=2)
plot(showMA3 ? ma3 : na, title="Slow MA", color=color.red, linewidth=2)

// Alert conditions
alertcondition(ta.cross(ma1, ma2), title="Fast/Medium MA Cross", message="Fast MA crossed Medium MA")
alertcondition(ta.cross(ma1, ma3), title="Fast/Slow MA Cross", message="Fast MA crossed Slow MA")
alertcondition(ta.cross(ma2, ma3), title="Medium/Slow MA Cross", message="Medium MA crossed Slow MA")
