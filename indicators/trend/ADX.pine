// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// Â© TradingView Indicators

//@version=5
indicator("Average Directional Index (ADX)", shorttitle="ADX", overlay=false)

// Inputs
length = input.int(14, minval=1, title="ADX Length")
threshold = input.int(25, minval=0, maxval=100, title="Trend Strength Threshold")

// ADX Calculation
[diPlus, diMinus, adx] = ta.dmi(length, length)

// Plot
plot(adx, title="ADX", color=color.purple, linewidth=2)
plot(diPlus, title="+DI", color=color.green, linewidth=1)
plot(diMinus, title="-DI", color=color.red, linewidth=1)
hline(threshold, title="Trend Strength Threshold", color=color.gray, linestyle=hline.style_dashed)

// Color the background based on trend strength
bgcolor(adx > threshold ? color.new(color.green, 95) : color.new(color.red, 95), title="Trend Strength Background")

// Alert conditions
alertcondition(ta.cross(adx, threshold), title="ADX Crosses Threshold", message="ADX crossed trend strength threshold")
alertcondition(ta.cross(diPlus, diMinus), title="DI Cross", message="+DI crossed -DI")
